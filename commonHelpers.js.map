{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/img/icon-close.svg","../src/main.js"],"sourcesContent":["export function imagesTamplate(arr) {\n    return arr.map(imageTemplate).join('\\n');\n  }\n  \n  \n  \n  /**\n   * Ðšeturns the markup for a single element\n   * @param {Object} el\n   * @returns {String}\n   */\n  export function imageTemplate(el) {\n    return `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${el.largeImageURL}\">\n            <div class=\"gallery-image-thumb\">\n              <img class=\"gallery-image\" src=\"${el.webformatURL}\" alt=\"${el.tags}\" />\n            </div>\n            <ul class=\"property\">\n              <li class=\"property__item\">\n                <p class=\"property__name\">Likes</p>\n                <p class=\"item-prop__quantity\">${el.likes}</p>\n              </li>\n              <li class=\"property__item\">\n                <p class=\"property__name\">Views</p>\n                <p class=\"item-prop__quantity\">${el.views}</p>\n              </li>\n              <li class=\"property__item\">\n                <p class=\"property__name\">Comments</p>\n                <p class=\"item-prop__quantity\">${el.comments}</p>\n              </li>\n              <li class=\"property__item\">\n                <p class=\"property__name\">Downloads</p>\n                <p class=\"item-prop__quantity\">${el.downloads}</p>\n              </li>\n            </ul>\n          </a>\n        </li>`;\n  }\n  \n  \n  \n  /**\n   * Adds class 'hidden' to the element\n   * @param {*} loader\n   */\n  export function addLoader(loader) {\n    loader.classList.remove('loader-hidden');\n  }\n  \n  \n  \n  /**\n   * Removes class 'hidden' to the element\n   * @param {*} loader\n   */\n  export function removeLoader(loader) {\n    loader.classList.add('loader-hidden');\n  }","export function getImages(imageName) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const params = new URLSearchParams({\n      key: '44349742-ecc8a7b60aea5585f0c207813',\n      q: imageName,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    });\n    const url = `${BASE_URL}${END_POINT}?${params}`;\n    return fetch(url).then(res => res.json()).then(data => {\n      const arr = [];\n      if (data.hits === arr) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please, try again!',\n          messageColor: '#fafafb',\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n      \n    });\n  };","export default \"__VITE_ASSET__e36160dc__\"","import {\n    imagesTamplate,\n    addLoader,\n    removeLoader,\n  } from './js/render-functions.js';\n  \n  import { getImages } from './js/pixabay-api.js';\n  \n  import iziToast from 'izitoast';\n  import 'izitoast/dist/css/iziToast.min.css';\n  \n  import SimpleLightbox from 'simplelightbox';\n  import 'simplelightbox/dist/simple-lightbox.min.css';\n  \n  import iconClose from './img/icon-close.svg';\n  \n  \n  \n  const formEl = document.querySelector('.search-form');\n  const ulEl = document.querySelector('');\n  const loader = document.querySelector('.loader');\n  const gallery = new SimpleLightbox('.gallery a');\n  \n  \n  formEl.addEventListener('submit', event => {\n    event.preventDefault();\n    \n    const query = event.target.elements.query.value.trim();\n    \n    if (query.length !== 0) {\n      \n      addLoader(loader);\n  \n      getImages(query)\n        .then(data => {\n          if (data.hits.length === 0) {\n            iziToast.show({\n              class: 'izt-toast-message',\n  \n              message:\n                'Sorry, there are no images matching your search query. Please try again!',\n              messageSize: '16',\n              messageLineHeight: '24',\n              messageColor: '#ffffff',\n  \n              backgroundColor: '#b51b1b',\n              iconUrl: iconClose,\n              position: 'topRight',\n              theme: 'dark',\n            });\n          } else {\n            const markup = imagesTamplate(data.hits);\n  \n            ulEl.innerHTML = markup;\n  \n            \n            gallery.refresh();\n          }\n        })\n        .catch(error => {\n          console.log(error)\n        })\n        .finally(() => {\n          removeLoader(loader);\n        });\n    }\n  \n    formEl.reset();\n  });"],"names":["imagesTamplate","arr","imageTemplate","el","addLoader","loader","removeLoader","getImages","imageName","BASE_URL","END_POINT","params","url","res","data","error","iconClose","formEl","ulEl","gallery","SimpleLightbox","event","query","iziToast","markup"],"mappings":"6vBAAO,SAASA,EAAeC,EAAK,CAChC,OAAOA,EAAI,IAAIC,CAAa,EAAE,KAAK;AAAA,CAAI,CACxC,CASM,SAASA,EAAcC,EAAI,CAChC,MAAO;AAAA,0CAC+BA,EAAG,aAAa;AAAA;AAAA,gDAEVA,EAAG,YAAY,UAAUA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iDAK/BA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,iDAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,iDAIRA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,iDAIXA,EAAG,SAAS;AAAA;AAAA;AAAA;AAAA,cAK1D,CAQM,SAASC,EAAUC,EAAQ,CAChCA,EAAO,UAAU,OAAO,eAAe,CACxC,CAQM,SAASC,EAAaD,EAAQ,CACnCA,EAAO,UAAU,IAAI,eAAe,CACxC,CCzDO,SAASE,EAAUC,EAAW,CACjC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CAAK,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAM,CAAA,EAAE,KAAKC,GAAQ,CACrD,MAAMb,EAAM,CAAA,EACRa,EAAK,OAASb,GAChB,SAAS,KAAK,CACZ,QACE,4EACF,aAAc,SACxB,CAAS,CAET,CAAK,EAAE,MAAMc,GAAS,CAChB,QAAQ,IAAIA,CAAK,CAEvB,CAAK,CACL,CCxBA,MAAeC,EAAA,gDCkBPC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAO,SAAS,cAAc,EAAE,EAChCb,EAAS,SAAS,cAAc,SAAS,EACzCc,EAAU,IAAIC,EAAe,YAAY,EAG/CH,EAAO,iBAAiB,SAAUI,GAAS,CACzCA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,MAAM,MAAM,OAE5CC,EAAM,SAAW,IAEnBlB,EAAUC,CAAM,EAEhBE,EAAUe,CAAK,EACZ,KAAKR,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBS,EAAS,KAAK,CACZ,MAAO,oBAEP,QACE,2EACF,YAAa,KACb,kBAAmB,KACnB,aAAc,UAEd,gBAAiB,UACjB,QAASP,EACT,SAAU,WACV,MAAO,MACrB,CAAa,MACI,CACL,MAAMQ,EAASxB,EAAec,EAAK,IAAI,EAEvCI,EAAK,UAAYM,EAGjBL,EAAQ,QAAO,CAChB,CACX,CAAS,EACA,MAAMJ,GAAS,CACd,QAAQ,IAAIA,CAAK,CAC3B,CAAS,EACA,QAAQ,IAAM,CACbT,EAAaD,CAAM,CAC7B,CAAS,GAGLY,EAAO,MAAK,CAChB,CAAG"}